<div class="uk-border-rounded uk-box-shadow-xlarge uk-card uk-card-default uk-width-1-2@m atlm-popup {{unless @activeFeature "uk-hidden"}}" {{did-insert this.initDraggable}}>
  <div class="uk-card-header atlm-popup-handle">
    <div class="uk-grid-small  uk-flex-middle" uk-grid uk-height-match>
      <div class="uk-width-auto atlm-popup-icon" style={{html-safe (concat "color: " @activeFeature.color)}}>
        <FaIcon @icon={{@activeFeature.vectorLayer.icon}} />
      </div>
      <div class="uk-width-expand">
        <h3 class="uk-card-title uk-margin-remove-bottom">
          {{#if @activeFeature.geojson.properties.title}}
              {{@activeFeature.geojson.properties.title}}
          {{else if @activeFeature.geojson.properties.breakProperty}}
              {{@activeFeature.vectorLayer.property}}: {{@activeFeature.geojson.properties.breakValue}}
          {{/if}}
        </h3>
        <p class="uk-text-meta uk-margin-remove-top">{{@activeFeature.vectorLayer.title}}</p>
      </div>
      <div class="uk-width-auto atlm-popup-close-button">
        <UkButton id="atlm-close-popup-button" @color="link" {{on 'click' @close}}  {{on 'keyup' @closeKey}} aria-label="Close detail popup.">
          <FaIcon @icon="times-circle" />
        </UkButton>
      </div>
    </div>
  </div>
  <div class="uk-card-body uk-panel uk-panel-scrollable atlm-popup-content">
    <ProjectUi::Popup::Content @properties={{@activeFeature.geojson.properties}} />
  </div>
</div>