<div class="row layer-heading">
    <table class="table">
        <tr>
            <td>
                <h2>Historical Maps</h2>
            </td>
            <table>
                <tr>
                    <td class="pull-right">{{partial 'close-button'}}</td>
                </tr>
            </table>
            <table>
                <tr>
                    <td class="togglebutton opacity toggle-all pull-right">
                        <label>
                            <input id="toggle-layer-opacity" type="checkbox" checked={{model.visiable_raster}} />
                            <span class="toggle"></span>
                        </label>
                    </td>
                </tr>
            </table>
        </tr>
    </table>
</div>

<div class="route-content raster-list" id="layer_sort">
    {{#sortable-group tagName="ul" model=model onChange="reorderItems" as |group|}}
        {{#each model.sortedRasterLayers as |layer|}}
            {{#sortable-item tagName="li" model=layer group=group handle=".handle" }}
                <div class="{{layer.raster_layer_id.slug}} raster-layer panel panel-default" id="{{layer.raster_layer_id.slug}}" data-id="{{layer.id}}">
                    <!-- <div class="panel panel-default"> -->
                        <div class="row layer-heading">
                            <div class="col-md-10">
                                <h3>
                                        <a {{action 'showLayerInfoDetals' layer}}>
                                            {{if layer.raster_layer_id.name layer.raster_layer_id.title 'Loading...'}}
                                        </a>
                                    </h3>
                            </div>
                            <div class="col-md-2 reorder">
                                <i class="material-icons handle pull-right">code</i>
                            </div>
                        </div>
                        <div class="row">
                            {{#if layer.raster_layer_id.slider_id}}
                                {{opacity-slider projLayer=layer layer=layer.raster_layer_id}}
                            {{/if}}
                        </div>
                        {{#liquid-if layer.clicked}}
                            <div class="panel-body">
                              <article class="layer-article">{{layer.raster_layer_id.description}}</article>
                            </div>

                            <div class="panel-footer row">
                            {{layer-citation layer = layer.raster_layer_id}}
                            {{#if model.editing}}
                                <!-- <div class="row"> -->
                                    <div class="col-md-8">{{layer.raster_layer_id}}</div>
                                    <div class="col-md-4">
                                        <a class="btn btn-raised btn-danger pull-right" {{action "removeLayer" layer.raster_layer_id 'raster' }}><i class="material-icons">close</i></a>
                                    </div>
                                <!-- </div> -->
                            {{/if}}
                          </div>
                        {{/liquid-if}}
                    <!-- </div> -->
                </div>
                {{else}}
                    No data layers have been added.
            {{/sortable-item}}
        {{/each}}
    {{/sortable-group}}
</div>
